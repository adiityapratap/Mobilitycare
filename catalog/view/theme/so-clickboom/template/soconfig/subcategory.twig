{#
****************************************************** 
 * @package	SO Framework for Opencart 3.x
 * @author	http://www.opencartworks.com
 * @license	GNU General Public License
 * @copyright(C) 2008-2017 opencartworks.com. All rights reserved.
 ******************************************************
#}
<style>
.category-image {
  height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.category-image .thumbnail img {
  max-height: 100%;
  max-width: 100%;
  object-fit: cover;
}
.category-name {
    margin-top: 10px;
    text-align: center;
    color: white !important;
    background-color: #003264 !important;
    padding: 12px;
}
</style>
{% set category_info = soconfig.get_settings('lstimg_cate_status') %}
{% if category_info %}
	<h3 class="title-category">{{heading_title}}</h3> 
	{#===== Show Description Category =======#}
	{% if thumb or description %}
	<div class="form-group category-info thiss">
			{% set class_category_info = category_info == 2 ? 'col-sm-9 col-xs-12' : 'col-sm-12 col-xs-12' %}
			<div class="subCTMain row">
				{% if thumb and category_info == 2 %}
					<div class="img-cate col-sm-3 col-xs-12"><img class="media-object lazyload"  data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ thumb }}" alt="{{ heading_title }}" title="{{ heading_title }}" /></div>
				{% endif %}

			
				
			</div>
	</div>
	{% endif %}
{% endif %}

{#===== Show Sub Category =======#}
{% if categories and soconfig.get_settings('product_catalog_refine') %}
	<div class="refine-search form-group clearfix">
		<h3 class="title-category">{{ text_refine }}</h3>
		<div class="row refine-search__content">
		{% for category in categories %}
			<div class="col-sm-4 refine-search__subitem">
				<div class="category-image">
					<a href="{{ category.href }}" class="thumbnail" style="border:none">
						<img class="lazyload img-responsive" data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{category.thumb}}" alt="{{ category.name }}" />
					</a>
				</div>
				<div class="category-name">
					<a href="{{ category.href }}" class="thumbnail--title text-center">{{ category.name }}</a>
				</div>
			</div>
		{% endfor %}
		</div>
		
		<script type="text/javascript"><!--
			catalog_refine_number = {{soconfig.get_settings('catalog_refine_number')}};
			if(catalog_refine_number < $('.refine-search__content > .refine-search__subitem').length){
				$('.refine-search__content').append('<div class="col-sm-12 refine-loadmore"><i class="fa fa-plus"></i> <span class="more-view"> {{text_refine_more}} </span></div>');
			}

			var $show_catalog_refine_number = catalog_refine_number - 1 ;
			$('.refine-search__content > .refine-search__subitem').each(function(i){
				if(i > $show_catalog_refine_number){
					$(this).css('display', 'none');
				}
			});

			$(".refine-search__content .refine-loadmore").click(function(){
				if($(this).hasClass('open')){
					$('.refine-search__content .refine-search__subitem').each(function(i){
						if(i > $show_catalog_refine_number){
							$(this).slideUp(200);
							$(this).css('display', 'none');
						}
					});
					$(this).removeClass('open');
					$('.refine-loadmore').html('<i class="fa fa-plus"></i> <span class="more-view">{{text_refine_more}} </span>');

				}else{
					$('.refine-search__content .refine-search__subitem').each(function(i){
						if(i > $show_catalog_refine_number){
							$(this).slideDown(200);
						}
					});
					$(this).addClass('open');
					$('.refine-loadmore').html('<i class="fa fa-minus"></i> <span class="more-view">{{text_refine_less}} </span>');
				}
			});
		//--></script> 
	</div>
{% endif %}


				